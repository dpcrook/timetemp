<!-- EXAMPLE SCRIPT -->
<script>

// onload callback
function drawChart() {

    // var public_key = 'dZ4EVmE8yGCRGx5XRX1W';
    var public_key = 'o8gab0Q996fNz2lW6gdr';

    // JSONP request
    var jsonData = $.ajax({
        url: 'https://data.sparkfun.com/output/' + public_key + '.json',
        data: {page: 1},
        dataType: 'jsonp',
    }).done(function (results) {

        var data = new google.visualization.DataTable();

        data.addColumn('datetime', 'Time');
        data.addColumn('number', 'Temp');
        data.addColumn('number', 'Pressure (mm / 10)');

        $.each(results, function (i, row) {
            data.addRow([
                (new Date(row.timestamp)),
                parseFloat(row.ambient_temperature_f),
                parseFloat(row.ambient_pressure) / 10.0
            ]);
        });

        var chart = new google.visualization.LineChart($('#chart').get(0));

        chart.draw(data, {
            title: 'Indoor Weather Station'
        });

    });

}

// load chart lib
google.load('visualization', '1', {
    packages: ['corechart']
});

// call drawChart once google charts is loaded 
google.setOnLoadCallback(drawChart);


</script>
